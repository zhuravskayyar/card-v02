<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–¢–µ—Å—Ç —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó –∫–∞—Ä—Ç —É –≥—Ä—É</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background: #1a120c;
      color: #f4e6c6;
    }
    h1 { color: #f2d07a; }
    .section {
      background: #120d0a;
      padding: 15px;
      margin: 15px 0;
      border-radius: 8px;
      border: 1px solid #c59b3c;
    }
    .pass { color: #2ecc71; }
    .fail { color: #e74c3c; }
    .card-preview {
      display: inline-block;
      background: #1a120c;
      padding: 10px;
      margin: 5px;
      border-radius: 6px;
      border: 1px solid #7a5520;
      min-width: 150px;
    }
    .card-name { font-weight: bold; color: #f2d07a; }
    .card-stats { font-size: 12px; margin-top: 5px; }
    pre {
      background: #080605;
      padding: 10px;
      border-radius: 4px;
      overflow-x: auto;
      font-size: 11px;
    }
  </style>
</head>
<body>
  <h1>üéÆ –¢–µ—Å—Ç —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó 240 –∫–∞—Ä—Ç —É –≥—Ä—É</h1>

  <div class="section">
    <h2>‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –±–∞–∑–æ–≤–æ—ó —Å—Ç—Ä—É–∫—Ç—É—Ä–∏</h2>
    <div id="basic-checks"></div>
  </div>

  <div class="section">
    <h2>üé≤ –¢–µ—Å—Ç —Å–∏—Å—Ç–µ–º–∏ –ø—Ä–æ–∫–∞—á–∫–∏</h2>
    <div id="upgrade-test"></div>
  </div>

  <div class="section">
    <h2>üÉè –ü—Ä–∏–∫–ª–∞–¥–∏ –∫–∞—Ä—Ç</h2>
    <div id="card-examples"></div>
  </div>

  <div class="section">
    <h2>‚öîÔ∏è –°–∏–º—É–ª—è—Ü—ñ—è –±–æ—é</h2>
    <div id="battle-sim"></div>
  </div>

  <script type="module">
    import { CARDS, getCardById, getCardsByElement, getCardsByRarity } from './js/data/cards.js';
    import { getPower, getPowerProgression } from './js/game/power.js';

    // Basic checks
    const basicChecks = document.getElementById('basic-checks');
    let html = '';

    html += `<p><span class="pass">‚úÖ</span> –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ –∫–∞—Ä—Ç: <strong>${CARDS.length}</strong> (–æ—á—ñ–∫—É–≤–∞–ª–æ—Å—å 240)</p>`;
    
    const card = getCardById('F01-R1');
    html += `<p><span class="${card ? 'pass' : 'fail'}">${card ? '‚úÖ' : '‚ùå'}</span> getCardById –ø—Ä–∞—Ü—é—î</p>`;
    
    if (card) {
      html += `<p><span class="${card.basePower ? 'pass' : 'fail'}">${card.basePower ? '‚úÖ' : '‚ùå'}</span> –ö–∞—Ä—Ç–∞ –º–∞—î basePower: ${card.basePower}</p>`;
      html += `<p><span class="${card.attack ? 'pass' : 'fail'}">${card.attack ? '‚úÖ' : '‚ùå'}</span> –ö–∞—Ä—Ç–∞ –º–∞—î attack: ${card.attack}</p>`;
      html += `<p><span class="${card.defense ? 'pass' : 'fail'}">${card.defense ? '‚úÖ' : '‚ùå'}</span> –ö–∞—Ä—Ç–∞ –º–∞—î defense: ${card.defense}</p>`;
      html += `<p><span class="${card.upgradeMult ? 'pass' : 'fail'}">${card.upgradeMult ? '‚úÖ' : '‚ùå'}</span> –ö–∞—Ä—Ç–∞ –º–∞—î upgradeMult: ${card.upgradeMult}</p>`;
      html += `<p><span class="${card.factionName ? 'pass' : 'fail'}">${card.factionName ? '‚úÖ' : '‚ùå'}</span> –ö–∞—Ä—Ç–∞ –º–∞—î factionName: ${card.factionName}</p>`;
    }

    basicChecks.innerHTML = html;

    // Upgrade test
    const upgradeTest = document.getElementById('upgrade-test');
    const testCard = getCardById('F10-R3');
    if (testCard) {
      let upgradeHtml = `<p><strong>–¢–µ—Å—Ç –∫–∞—Ä—Ç–∏:</strong> ${testCard.name} (${testCard.id})</p>`;
      upgradeHtml += `<p>Base Power: ${testCard.basePower}, Upgrade Mult: ${testCard.upgradeMult}</p>`;
      
      const progression = getPowerProgression(testCard, 10);
      upgradeHtml += '<table style="width: 100%; margin-top: 10px; border-collapse: collapse;">';
      upgradeHtml += '<tr style="border-bottom: 1px solid #7a5520;"><th>–†—ñ–≤–µ–Ω—å</th><th>–°–∏–ª–∞</th><th>–ü—Ä–∏—Ä—ñ—Å—Ç</th></tr>';
      
      let prevPower = 0;
      progression.forEach(({ level, power }) => {
        const gain = prevPower ? `+${power - prevPower}` : '-';
        upgradeHtml += `<tr style="border-bottom: 1px solid #7a5520;"><td>${level}</td><td>${power}</td><td style="color: #2ecc71;">${gain}</td></tr>`;
        prevPower = power;
      });
      upgradeHtml += '</table>';
      
      upgradeTest.innerHTML = upgradeHtml;
    }

    // Card examples
    const cardExamples = document.getElementById('card-examples');
    const examples = [
      getCardById('F01-R1'), // Common
      getCardById('F01-R3'), // Rare
      getCardById('F01-R6'), // Mythic
      getCardById('F20-R6'), // Water Mythic
      getCardById('F40-R6')  // Strongest
    ].filter(Boolean);

    cardExamples.innerHTML = examples.map(card => `
      <div class="card-preview">
        <div class="card-name">${card.name}</div>
        <div style="font-size: 10px; opacity: 0.7; margin: 3px 0;">${card.rarityDisplay}</div>
        <div style="font-size: 10px; opacity: 0.7;">${card.factionName}</div>
        <div class="card-stats">
          ‚öîÔ∏è ${card.attack} | üõ°Ô∏è ${card.defense}
        </div>
        <div style="font-size: 10px; margin-top: 5px; opacity: 0.6;">
          ${card.element} ‚Ä¢ Level 1: ${getPower(card, 1)}
        </div>
      </div>
    `).join('');

    // Battle simulation
    const battleSim = document.getElementById('battle-sim');
    const card1 = getCardById('F10-R5'); // Fire Legendary
    const card2 = getCardById('F20-R5'); // Water Legendary
    
    if (card1 && card2) {
      const p1 = getPower(card1, 1);
      const p2 = getPower(card2, 1);
      
      battleSim.innerHTML = `
        <div style="display: flex; gap: 20px; justify-content: center; margin: 20px 0;">
          <div class="card-preview">
            <div class="card-name">${card1.name}</div>
            <div style="font-size: 10px; opacity: 0.7;">${card1.factionName}</div>
            <div class="card-stats">‚öîÔ∏è ${card1.attack} | üõ°Ô∏è ${card1.defense}</div>
            <div style="margin-top: 10px; color: #f2d07a;">–°–∏–ª–∞: ${p1}</div>
          </div>
          <div style="align-self: center; font-size: 24px;">‚öîÔ∏è</div>
          <div class="card-preview">
            <div class="card-name">${card2.name}</div>
            <div style="font-size: 10px; opacity: 0.7;">${card2.factionName}</div>
            <div class="card-stats">‚öîÔ∏è ${card2.attack} | üõ°Ô∏è ${card2.defense}</div>
            <div style="margin-top: 10px; color: #3498db;">–°–∏–ª–∞: ${p2}</div>
          </div>
        </div>
        <div style="text-align: center; margin-top: 20px; font-size: 18px;">
          ${p1 > p2 ? `<span class="pass">üî• ${card1.name} –ø–µ—Ä–µ–º–∞–≥–∞—î!</span>` : 
            p2 > p1 ? `<span class="pass">üíß ${card2.name} –ø–µ—Ä–µ–º–∞–≥–∞—î!</span>` : 
            '<span>‚öñÔ∏è –ù—ñ—á–∏—è!</span>'}
        </div>
        <div style="text-align: center; margin-top: 10px; opacity: 0.7;">
          –†—ñ–∑–Ω–∏—Ü—è: ${Math.abs(p1 - p2)} –æ—á–æ–∫
        </div>
      `;
    }

    // Log to console
    console.log('=== –Ü–ù–¢–ï–ì–†–ê–¶–Ü–Ø –ö–ê–†–¢ ===');
    console.log('–í—Å—å–æ–≥–æ –∫–∞—Ä—Ç:', CARDS.length);
    console.log('–ü—Ä–∏–∫–ª–∞–¥ –∫–∞—Ä—Ç–∏:', card);
    console.log('–ö–∞—Ä—Ç–∏ –≤–æ–≥–Ω—é:', getCardsByElement('fire').length);
    console.log('–ú—ñ—Ñ—ñ—á–Ω—ñ –∫–∞—Ä—Ç–∏:', getCardsByRarity('mythic').length);
  </script>
</body>
</html>
