/* ðŸ”´ FORCE DISABLE DECK BUTTONS (GLOBAL) */
.card-actions,
.card-actions *,
.btn-add,
.btn-remove,
button[data-action="add"],
button[data-action="remove"],
button.add-to-deck,
button.remove-from-deck {
  display: none !important;
  visibility: hidden !important;
  pointer-events: none !important;
}

/* Also target known IDs used in card details */
#card-add-to-deck-btn,
#card-remove-btn,
#card-upgrade-btn {
  display: none !important;
  visibility: hidden !important;
  pointer-events: none !important;
}

/* Unified Card UI Kit variables and classes */
:root{
  --card-w: 124px; /* reference width for deck */
  --card-h: 160px;
  --card-radius: 16px;
  --card-gap: 10px;
}

/* Grid used both in deck and duel screens */
.cards-grid{
  display: grid;
  grid-template-columns: repeat(3, var(--card-w));
  gap: var(--card-gap);
  justify-content: center;
  align-content: start;
  grid-auto-rows: var(--card-h);
}

/* Base card style â€” prevents stretching */
.card{
  width: var(--card-w);
  height: var(--card-h);
  border-radius: var(--card-radius);
  flex: 0 0 auto;
  box-sizing: border-box;
}

/* Ensure variant classes inherit the base card sizing and remove transforms */
.battle-card,
.duel-card,
.hand-card,
.deck-card{
  width: var(--card-w) !important;
  height: var(--card-h) !important;
  flex: 0 0 auto !important;
  transform: none !important;
}

/* Prevent common container rules from stretching cards (override worst offenders) */
.battle-hand > *,
.cards-grid > *{
  flex: 0 0 auto !important;
}

/* Screen section wrapper to align duel and deck screens */
.screen-section{
  max-width: calc(var(--card-w)*3 + var(--card-gap)*2);
  margin: 0 auto;
  padding: 8px;
}

/* =========================================================
   SINGLE SOURCE OF TRUTH â€” CARD SIZE (GLOBAL PATCH)
   ========================================================= */

/* 1) Ð„Ð´Ð¸Ð½Ñ– Ð·Ð¼Ñ–Ð½Ð½Ñ– Ñ€Ð¾Ð·Ð¼Ñ–Ñ€Ñƒ */
:root{
  --card-width: 128px;   /* ÐœÐ†ÐÐ¯Ð™ Ð¢Ð†Ð›Ð¬ÐšÐ˜ Ð¦Ð• */
  --card-height: 160px;  /* Ð† Ð¦Ð• */
  --card-radius: 16px;
}

/* 2) Ð£Ð¡Ð† Ð¼Ð¾Ð¶Ð»Ð¸Ð²Ñ– ÐºÐ»Ð°ÑÐ¸ ÐºÐ°Ñ€Ñ‚ Ñƒ Ð¿Ñ€Ð¾Ñ”ÐºÑ‚Ñ– */
.card,
.deck-card,
.battle-card,
.duel-card,
.hand-card,
.sp-card {
  width: var(--card-width) !important;
  min-width: var(--card-width) !important;
  max-width: var(--card-width) !important;

  height: var(--card-height) !important;
  min-height: var(--card-height) !important;
  max-height: var(--card-height) !important;

  border-radius: var(--card-radius) !important;

  flex: 0 0 auto !important;
  box-sizing: border-box !important;

  transform: none !important;
  scale: 1 !important;
}

/* 3) Ð¯ÐºÑ‰Ð¾ Ñ€Ð¾Ð·Ð¼Ñ–Ñ€Ð¸ Ð·Ð°Ð´Ð°Ð²Ð°Ð»Ð¸ÑÑŒ inline-ÑÑ‚Ð¸Ð»ÑÐ¼Ð¸ â€” Ð¿Ñ€Ð¸Ð±Ð¸Ð²Ð°Ñ”Ð¼Ð¾ */
.card[style],
.deck-card[style],
.battle-card[style],
.duel-card[style],
.hand-card[style],
.sp-card[style] {
  width: var(--card-width) !important;
  height: var(--card-height) !important;
}

/* 4) ÐšÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð¸ ÐºÐ°Ñ€Ñ‚ â€” Ð—ÐÐ‘ÐžÐ ÐžÐÐ˜Ð¢Ð˜ Ñ€Ð¾Ð·Ñ‚ÑÐ³ÑƒÐ²Ð°Ð½Ð½Ñ */
.cards-grid,
.deck-grid,
.duel-grid,
.battle-hand,
.hand,
.deck {
  display: grid !important;
  grid-template-columns: repeat(3, var(--card-width)) !important;
  grid-auto-rows: var(--card-height) !important;
  gap: 10px !important;
  justify-content: center !important;
  align-content: start !important;
}

/* 5) Ð¡Ñ‚Ñ€Ð°Ñ…Ð¾Ð²ÐºÐ° Ð²Ñ–Ð´ flex-ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ñ–Ð² */
.cards-grid > *,
.deck-grid > *,
.duel-grid > *,
.battle-hand > *,
.hand > *,
.deck > * {
  flex: 0 0 auto !important;
}
