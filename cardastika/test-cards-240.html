<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–¢–µ—Å—Ç 240 –∫–∞—Ä—Ç - –§—Ä–∞–∫—Ü—ñ—ó</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background: #1a120c;
      color: #f4e6c6;
    }
    h1 {
      color: #f2d07a;
      text-align: center;
    }
    .stats {
      background: #120d0a;
      padding: 20px;
      border-radius: 10px;
      margin: 20px 0;
      border: 2px solid #c59b3c;
    }
    .stats h2 {
      color: #d8905b;
      margin-top: 0;
    }
    .faction {
      background: #120d0a;
      padding: 15px;
      margin: 15px 0;
      border-radius: 8px;
      border-left: 4px solid #c59b3c;
    }
    .faction h3 {
      color: #f2d07a;
      margin-top: 0;
    }
    .card-list {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 10px;
      margin-top: 10px;
    }
    .card {
      background: #1a120c;
      padding: 10px;
      border-radius: 6px;
      border: 1px solid #7a5520;
      transition: all 0.3s;
    }
    .card:hover {
      border-color: #f2d07a;
      transform: translateY(-2px);
    }
    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 5px;
    }
    .card-name {
      font-weight: bold;
      color: #f4e6c6;
      font-size: 14px;
    }
    .card-id {
      color: #d0bf9a;
      font-size: 11px;
    }
    .card-power {
      color: #d8905b;
      font-weight: bold;
    }
    .rarity {
      display: inline-block;
      padding: 3px 8px;
      border-radius: 4px;
      font-size: 11px;
      font-weight: bold;
    }
    .rarity.common { background: #555; color: #fff; }
    .rarity.uncommon { background: #2ecc71; color: #fff; }
    .rarity.rare { background: #3498db; color: #fff; }
    .rarity.epic { background: #9b59b6; color: #fff; }
    .rarity.legendary { background: #e67e22; color: #fff; }
    .rarity.mythic { background: #e74c3c; color: #fff; }
    .element {
      display: inline-block;
      padding: 3px 8px;
      border-radius: 4px;
      font-size: 11px;
      font-weight: bold;
      margin-left: 5px;
    }
    .element.fire { background: #e74c3c; color: #fff; }
    .element.water { background: #3498db; color: #fff; }
    .element.air { background: #95a5a6; color: #fff; }
    .element.earth { background: #27ae60; color: #fff; }
    .error {
      background: #e74c3c;
      color: white;
      padding: 15px;
      border-radius: 8px;
      margin: 20px 0;
    }
  </style>
</head>
<body>
  <h1>üé¥ –¢–µ—Å—Ç —Å–∏—Å—Ç–µ–º–∏ 240 –∫–∞—Ä—Ç - 40 —Ñ—Ä–∞–∫—Ü—ñ–π</h1>
  
  <div class="stats">
    <h2>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
    <p><strong>–í—Å—å–æ–≥–æ –∫–∞—Ä—Ç:</strong> <span id="total-cards">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</span></p>
    <p><strong>–§—Ä–∞–∫—Ü—ñ–π:</strong> <span id="total-factions">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</span></p>
    <p><strong>–ü–æ —Å—Ç–∏—Ö—ñ—è—Ö:</strong></p>
    <ul>
      <li>üî• –í–æ–≥–æ–Ω—å: <span id="fire-count">0</span></li>
      <li>üíß –í–æ–¥–∞: <span id="water-count">0</span></li>
      <li>üí® –ü–æ–≤—ñ—Ç—Ä—è: <span id="air-count">0</span></li>
      <li>üåç –ó–µ–º–ª—è: <span id="earth-count">0</span></li>
    </ul>
    <p><strong>–ü–æ —Ä—ñ–¥–∫–æ—Å—Ç—ñ:</strong></p>
    <ul>
      <li>–ó–≤–∏—á–∞–π–Ω–∞: <span id="common-count">0</span></li>
      <li>–ù–µ–∑–≤–∏—á–∞–π–Ω–∞: <span id="uncommon-count">0</span></li>
      <li>–†—ñ–¥–∫—ñ—Å–Ω–∞: <span id="rare-count">0</span></li>
      <li>–ï–ø—ñ—á–Ω–∞: <span id="epic-count">0</span></li>
      <li>–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω–∞: <span id="legendary-count">0</span></li>
      <li>–ú—ñ—Ñ—ñ—á–Ω–∞: <span id="mythic-count">0</span></li>
    </ul>
  </div>

  <div id="error-container"></div>
  <div id="factions-container"></div>

  <script type="module">
    import { CARDS, getCardsByFaction, getCardsByElement, getCardsByRarity } from './js/data/cards.js';

    // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
    console.log('–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ –∫–∞—Ä—Ç:', CARDS?.length);
    console.log('–ü—Ä–∏–∫–ª–∞–¥ –ø–µ—Ä—à–æ—ó –∫–∞—Ä—Ç–∏:', CARDS?.[0]);
    console.log('–ü—Ä–∏–∫–ª–∞–¥ –æ—Å—Ç–∞–Ω–Ω—å–æ—ó –∫–∞—Ä—Ç–∏:', CARDS?.[CARDS.length - 1]);

    // –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
    document.getElementById('total-cards').textContent = CARDS?.length || 0;

    // –ü—ñ–¥—Ä–∞—Ö—É–Ω–æ–∫ —Ñ—Ä–∞–∫—Ü—ñ–π
    const factions = [...new Set(CARDS.map(c => c.faction))];
    document.getElementById('total-factions').textContent = factions.length;

    // –ü—ñ–¥—Ä–∞—Ö—É–Ω–æ–∫ –ø–æ —Å—Ç–∏—Ö—ñ—è—Ö
    document.getElementById('fire-count').textContent = getCardsByElement('fire').length;
    document.getElementById('water-count').textContent = getCardsByElement('water').length;
    document.getElementById('air-count').textContent = getCardsByElement('air').length;
    document.getElementById('earth-count').textContent = getCardsByElement('earth').length;

    // –ü—ñ–¥—Ä–∞—Ö—É–Ω–æ–∫ –ø–æ —Ä—ñ–¥–∫–æ—Å—Ç—ñ
    document.getElementById('common-count').textContent = getCardsByRarity('common').length;
    document.getElementById('uncommon-count').textContent = getCardsByRarity('uncommon').length;
    document.getElementById('rare-count').textContent = getCardsByRarity('rare').length;
    document.getElementById('epic-count').textContent = getCardsByRarity('epic').length;
    document.getElementById('legendary-count').textContent = getCardsByRarity('legendary').length;
    document.getElementById('mythic-count').textContent = getCardsByRarity('mythic').length;

    // –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ñ—Ä–∞–∫—Ü—ñ–π
    const factionsContainer = document.getElementById('factions-container');

    // –ì—Ä—É–ø—É–≤–∞–Ω–Ω—è –ø–æ —Å—Ç–∏—Ö—ñ—è—Ö –¥–ª—è –∫—Ä–∞—â–æ–≥–æ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è
    const elementNames = {
      fire: 'üî• –í–æ–≥–æ–Ω—å',
      water: 'üíß –í–æ–¥–∞',
      air: 'üí® –ü–æ–≤—ñ—Ç—Ä—è',
      earth: 'üåç –ó–µ–º–ª—è'
    };

    ['fire', 'water', 'air', 'earth'].forEach(element => {
      const elementSection = document.createElement('div');
      elementSection.innerHTML = `<h2>${elementNames[element]}</h2>`;
      
      const elementFactions = factions.filter(f => {
        const cards = getCardsByFaction(f);
        return cards.length > 0 && cards[0].element === element;
      });

      elementFactions.forEach(factionId => {
        const factionCards = getCardsByFaction(factionId);
        if (factionCards.length === 0) return;

        const factionDiv = document.createElement('div');
        factionDiv.className = 'faction';
        
        const factionName = factionCards[0].factionName;
        factionDiv.innerHTML = `
          <h3>${factionId}: ${factionName}</h3>
          <div class="card-list"></div>
        `;

        const cardList = factionDiv.querySelector('.card-list');
        
        factionCards.forEach(card => {
          const cardDiv = document.createElement('div');
          cardDiv.className = 'card';
          
          const calculatedPower = Math.round(card.basePower * card.multiplier);
          
          cardDiv.innerHTML = `
            <div class="card-header">
              <span class="card-name">${card.name}</span>
              <span class="card-power">${calculatedPower}</span>
            </div>
            <div class="card-id">${card.id}</div>
            <div style="margin-top: 8px;">
              <span class="rarity ${card.rarity}">${card.rarityDisplay}</span>
              <span class="element ${card.element}">${elementNames[card.element]}</span>
            </div>
            <div style="margin-top: 5px; font-size: 11px; color: #d0bf9a;">
              Base: ${card.basePower} √ó ${card.multiplier.toFixed(2)}
            </div>
          `;
          
          cardList.appendChild(cardDiv);
        });

        elementSection.appendChild(factionDiv);
      });

      factionsContainer.appendChild(elementSection);
    });

    // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞ –ø–æ–º–∏–ª–∫–∏
    if (CARDS.length !== 240) {
      const errorDiv = document.createElement('div');
      errorDiv.className = 'error';
      errorDiv.innerHTML = `
        <strong>‚ö†Ô∏è –ü–û–ú–ò–õ–ö–ê:</strong> –û—á—ñ–∫—É–≤–∞–ª–æ—Å—å 240 –∫–∞—Ä—Ç, –∞–ª–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ ${CARDS.length}
      `;
      document.getElementById('error-container').appendChild(errorDiv);
    }

    if (factions.length !== 40) {
      const errorDiv = document.createElement('div');
      errorDiv.className = 'error';
      errorDiv.innerHTML = `
        <strong>‚ö†Ô∏è –ü–û–ú–ò–õ–ö–ê:</strong> –û—á—ñ–∫—É–≤–∞–ª–æ—Å—å 40 —Ñ—Ä–∞–∫—Ü—ñ–π, –∞–ª–µ –∑–Ω–∞–π–¥–µ–Ω–æ ${factions.length}
      `;
      document.getElementById('error-container').appendChild(errorDiv);
    }

  </script>
</body>
</html>
